<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Membuat Web Sederhana menggunakan PHP, Twig Template Engine dan MySQL: Part 4 :: The Official Site of ngurajeka — an ordinary ceo</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="description" content="Menyiapkan Basis Data (MySQL Database) MySQL merupakan basis data yang bersifat relasional dan juga salah satu basis data yang cukup banyak digunakan. Dan pada web sederhana ini kita juga akan menggunakan MySQL.
Yang akan menjadi pertanyaan adalah, untuk apa kita membutuhkan basis data MySQL pada web sederhana kita ini? Sebelumnya, tumpukan data daftar gambar yang kita buat masih berada dalam kode PHP kita. Bayangkan jika suatu saat kita membutuhkan untuk merubah atau bahkan menambah daftar gambar tersebut?"/>
<meta name="keywords" content=""/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="/post/membuat-web-sederhana-menggunakan-php-twig-template-engine-dan-mysql-part-4/" />


<link rel="stylesheet" href="/assets/style.css">


<link rel="stylesheet" href="/style.css">


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/apple-touch-icon-144-precomposed.png">
<link rel="shortcut icon" href="/img/favicon.png">


<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Membuat Web Sederhana menggunakan PHP, Twig Template Engine dan MySQL: Part 4 :: The Official Site of ngurajeka — an ordinary ceo" />
<meta name="twitter:description" content="Menyiapkan Basis Data (MySQL Database) MySQL merupakan basis data yang bersifat relasional dan juga salah satu basis data yang cukup banyak digunakan. Dan pada web sederhana ini kita juga akan menggunakan MySQL.
Yang akan menjadi pertanyaan adalah, untuk apa kita membutuhkan basis data MySQL pada web sederhana kita ini? Sebelumnya, tumpukan data daftar gambar yang kita buat masih berada dalam kode PHP kita. Bayangkan jika suatu saat kita membutuhkan untuk merubah atau bahkan menambah daftar gambar tersebut?" />
<meta name="twitter:site" content="/" />
<meta name="twitter:creator" content="" />
<meta name="twitter:image" content="">


<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Membuat Web Sederhana menggunakan PHP, Twig Template Engine dan MySQL: Part 4 :: The Official Site of ngurajeka — an ordinary ceo">
<meta property="og:description" content="Menyiapkan Basis Data (MySQL Database) MySQL merupakan basis data yang bersifat relasional dan juga salah satu basis data yang cukup banyak digunakan. Dan pada web sederhana ini kita juga akan menggunakan MySQL.
Yang akan menjadi pertanyaan adalah, untuk apa kita membutuhkan basis data MySQL pada web sederhana kita ini? Sebelumnya, tumpukan data daftar gambar yang kita buat masih berada dalam kode PHP kita. Bayangkan jika suatu saat kita membutuhkan untuk merubah atau bahkan menambah daftar gambar tersebut?" />
<meta property="og:url" content="/post/membuat-web-sederhana-menggunakan-php-twig-template-engine-dan-mysql-part-4/" />
<meta property="og:site_name" content="Membuat Web Sederhana menggunakan PHP, Twig Template Engine dan MySQL: Part 4" />
<meta property="og:image" content="">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

<meta property="article:published_time" content="2015-11-19 00:00:00 &#43;0000 UTC" />







<link rel="stylesheet" href="/css/post.css" />
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous" />
</head>
<body class="">
<div class="container">
  <header class="header">
  <span class="header__inner">
    <a href="/" class="logo" style="text-decoration: none;">
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" width="44" height="44" viewBox="0 0 44 44">
  <polyline fill="none" stroke="#000" stroke-width="2" points="15 8 29.729 22.382 15 35.367"/>
</svg>
</span>
    <span class="logo__text">ngurajeka</span>
    <span class="logo__cursor"></span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/podcast">Podcast</a></li>
        
      
        
          <li><a href="/usecase">Usecase</a></li>
        
      
      
    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about">About</a></li>
      
    
      
        <li><a href="/podcast">Podcast</a></li>
      
    
      
        <li><a href="/usecase">Usecase</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>

      </span>
    </span>
  </span>
</header>


  <div class="content">
    
  <div class="post">
    <h2 class="post-title"><a href="/post/membuat-web-sederhana-menggunakan-php-twig-template-engine-dan-mysql-part-4/">Membuat Web Sederhana menggunakan PHP, Twig Template Engine dan MySQL: Part 4</a></h2>
    <div class="post-meta">
      
        <span class="post-date">
            2015-11-19
        </span>
      
      
      
        <span class="post-read-time">— 8 min read</span>
      
    </div>

    

    

    <div class="post-content">
      <h1 id="menyiapkan-basis-data-mysql-database">Menyiapkan Basis Data (MySQL Database)</h1>
<p><a href="https://en.wikipedia.org/wiki/MySQL">MySQL</a> merupakan basis data yang bersifat relasional dan juga salah satu basis data yang cukup banyak digunakan. Dan pada web sederhana ini kita juga akan menggunakan MySQL.</p>
<p>Yang akan menjadi pertanyaan adalah, untuk apa kita membutuhkan basis data MySQL pada web sederhana kita ini? Sebelumnya, tumpukan data daftar gambar yang kita buat masih berada dalam kode PHP kita. Bayangkan jika suatu saat kita membutuhkan untuk merubah atau bahkan menambah daftar gambar tersebut? Bukannya melakukan hal tersebut secara berulang-ulang akan terasa menyakitkan?</p>
<p>Lalu, apakah hanya untuk itu saja? Oh tidak, alasan lainnya adalah untuk belajar bagaimana sih menggunakan MySQL itu. Konsep dasar penggunaannya yang akan kita pelajari pada bagian ini. Menurut anda bagaimana seseorang yang membuat sebuah blog? Media Sosial? Apakah tumpukan data-data mereka yang sifatnya dinamis (berubah-ubah) ditanamkan langsung ke kode mereka masing-masing? Apakah anda menggunakan Facebook, Twitter, ataupun yang lain setiap kali menambahkan data anda harus menulis kode? Disitulah Basis Data memiliki peran penting.</p>
<p>Sebelum terlalu jauh pastikan kembali MySQL-Server atau MariaDB-Server telah terpasang di mesin anda. Dan juga pastikan anda memiliki akses untuk menggunakannya. Disini saya akan berasumsi bahwa user yang akan pertama kali digunakan adalah root.</p>
<ul>
<li>
<p>Mengakses shell dari MySQL dengan user root, localhost merupakan host dari MySQL-Server terpasang dan berjalan. Jika sebelumnya anda telah memasang sebuah kata sandi, maka hal tersebut akan dibutuhkan untuk dapat mengakses shell dari MySQL.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ mysql -u root -p
</code></pre></div></li>
<li>
<p>Membuat sebuah basis data (database) dengan nama web_sederhana</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">CREATE</span> <span class="k">DATABASE</span> <span class="n">web_sederhana</span><span class="p">;</span>
</code></pre></div><p>Jika berhasil, maka akan terdapat output kurang lebih seperti berikut:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">1</span> <span class="k">row</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">03</span> <span class="n">sec</span><span class="p">)</span>
</code></pre></div></li>
<li>
<p>Membuat pengguna baru dengan nama user_web dan kata sandi 74ee55083a714aa3791f8d594fea00c9 (sangat disarankan untuk membuat satu pengguna baru, karena menggunakan akun root sangatlah tidak bijak dengan alasan keamanan. Serta sangat disarankan untuk menggunakan kata sandi yang aman). Setelah itu kita memberikan akses dari pengguna user_web ke database yang sebelumnya kita buat web_sederhana</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">&#39;user_web&#39;</span><span class="o">@</span><span class="s1">&#39;localhost&#39;</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="s1">&#39;74ee55083a714aa3791f8d594fea00c9&#39;</span><span class="p">;</span>
<span class="n">mysql</span><span class="o">&gt;</span> <span class="k">GRANT</span> <span class="k">ALL</span> <span class="k">PRIVILEGES</span> <span class="k">ON</span> <span class="o">`</span><span class="n">web_sederhana</span><span class="o">`</span> <span class="p">.</span> <span class="o">*</span> <span class="k">TO</span> <span class="s1">&#39;user_web&#39;</span><span class="o">@</span><span class="s1">&#39;localhost&#39;</span><span class="p">;</span>
<span class="n">mysql</span><span class="o">&gt;</span> <span class="n">FLUSH</span> <span class="k">PRIVILEGES</span><span class="p">;</span>
<span class="n">mysql</span><span class="o">&gt;</span> <span class="n">EXIT</span><span class="p">;</span>
</code></pre></div><p>Sebelum melanjutkan, mari kita cek apakah semuanya telah siap. Kita akan mencoba untuk mengakses shell dari MySQL dengan menggunakan pengguna yang baru saja kita buat, dan membuka akses ke basis data yang juga baru saja kita buat.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ mysql -u user_web -p
</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span> <span class="n">USE</span> <span class="o">`</span><span class="n">web_sederhana</span><span class="o">`</span><span class="p">;</span>
</code></pre></div><p>Jika berhasil, maka pada bagian akhir akan memperlihatkan keluaran Database changed yang dimana mengartikan bahwa kita telah dapat membuka akses ke basis data yang baru saja kita buat dengan pengguna yang juta baru dibuat. Namun, jika terdapat masalah sampai sejauh ini silahkan gunakan kolom komentar.</p>
<p>Seperti yang sebelumnya saya sampaikan, kita akan menyimpan tumpukan data daftar gambar ke dalam basis data. Dan yang untuk sementara kita butuhkan hanyalah alamat dari gambar tersebut, maka skema yang kita akan buat dan kita butuhkan pun untuk saat ini sangat-sangat sederhana.</p>
<p>Kita akan membuat satu table (koleksi data) di MySQL dengan bernama daftar_gambar. Perlu diketahui, satu basis data dapat menyimpan banyak sekali table dan dalam satu table tentu saja memiliki kolom dan baris, atau dapat menyimpan banyak rekaman data (records / row).</p>
<p>Namun hal yang kedepannya perlu diperhatikan adalah, membuat skema koleksi data dengan baik itu sangatlah penting. Karena akan sangat bijak jika data-data yang terekam akan mudah kita gunakan kembali (baca, atau ubah).</p>
<p>Mari kita buat schemanya terlebih dahulu:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">CREATE</span> <span class="k">TABLE</span> <span class="o">`</span><span class="n">daftar_gambar</span><span class="o">`</span> <span class="p">(</span>
    <span class="o">-&gt;</span> <span class="o">`</span><span class="n">id</span><span class="o">`</span> <span class="nb">INT</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="n">AUTO_INCREMENT</span><span class="p">,</span>
    <span class="o">-&gt;</span> <span class="o">`</span><span class="n">alamat_gambar</span><span class="o">`</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">120</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="o">-&gt;</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">(</span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="p">));</span>
</code></pre></div><p>Diatas, kita membuat tabel daftar_gambar dengan kolom id dan alamat_gambar. Dimana id memiliki tipe data integer dan tidak boleh memiliki nilai NULL disetiap rekaman data dan juga bersifat auto increment yang berarti pada saat id tidak kita berikan nilai pada saat memasukkan data baru ia akan terisi dengan sendirinya sesuai dengan urutan id yang sebelumnya pernah ada. (Dimulai dari 0 yah **pertamina)</p>
<p>Dan kemudian, alamat_gambar kita beri tipe data varchar dengan ukuran 120. Silahkan buka <a href="http://www.w3schools.com/sql/sql_datatypes.asp">Tipe Data MySQL</a> untuk penjelasan lebih lengkap. Tipe data kita definisikan menyesuaikan dengan data apa yang akan kita rekam. Dari contoh diatas, alamat gambar hanya akan berisikan teks dari alamat gambar-gambar yang sebelumnya kita masukkan ke satu tumpukan data di gallery.php (boleh ditambah, diubah)</p>
<p>Dan terakhir, PRIMARY KEY menandakan sebuah nilai unik yang digunakan untuk mengidentifikasikan setiap data yang berhasil terekam. Dalam hal ini kita menggunakan id, dimana id ini akan bernilai 1,2,3,4… dan seterusnya.</p>
<p>Apa yang akan kita lakukan selanjutnya? Apakah kita telah bisa melanjutkan kode kita di PHP? Belum, mari kita mencoba membaca data dari table yang diatas telah kita buat dengan menggunakan query language yang telah disediakan MySQL tentunya.</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">from</span> <span class="o">`</span><span class="n">daftar_gambar</span><span class="o">`</span><span class="p">;</span>
</code></pre></div><p>Maka tentu saja keluaran dari perintah diatas adalah Empty set (x.xx sec) yang dikarenakan table daftar_gambar belum memiliki rekaman data sama sekali. Karena diatas, kita hanya membuat tablenya saja. Mari kita coba menambahkan satu atau lebih rekaman data. Lalu kita baca kembali</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">INSERT</span> <span class="k">INTO</span> <span class="o">`</span><span class="n">daftar_gambar</span><span class="o">`</span> <span class="p">(</span><span class="o">`</span><span class="n">alamat_gambar</span><span class="o">`</span><span class="p">)</span> <span class="k">VALUES</span>
    <span class="o">-&gt;</span> <span class="p">(</span><span class="s1">&#39;http://blacktie.co/demo/stanley/assets/img/portfolio/port01.jpg&#39;</span><span class="p">);</span>
<span class="n">mysql</span><span class="o">&gt;</span> <span class="k">INSERT</span> <span class="k">INTO</span> <span class="o">`</span><span class="n">daftar_gambar</span><span class="o">`</span> <span class="p">(</span><span class="o">`</span><span class="n">alamat_gambar</span><span class="o">`</span><span class="p">)</span> <span class="k">VALUES</span>
    <span class="o">-&gt;</span> <span class="p">(</span><span class="s1">&#39;http://blacktie.co/demo/stanley/assets/img/portfolio/port02.jpg&#39;</span><span class="p">),</span>
    <span class="o">-&gt;</span> <span class="p">(</span><span class="s1">&#39;http://blacktie.co/demo/stanley/assets/img/portfolio/port03.jpg&#39;</span><span class="p">);</span>
<span class="n">mysql</span><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">from</span> <span class="o">`</span><span class="n">daftar_gambar</span><span class="o">`</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----+-----------------------------------------------------------------+
</span><span class="c1"></span><span class="o">|</span> <span class="n">id</span> <span class="o">|</span> <span class="n">alamat_gambar</span>                                                   <span class="o">|</span>
<span class="o">+</span><span class="c1">----+-----------------------------------------------------------------+
</span><span class="c1"></span><span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">blacktie</span><span class="p">.</span><span class="n">co</span><span class="o">/</span><span class="n">demo</span><span class="o">/</span><span class="n">stanley</span><span class="o">/</span><span class="n">assets</span><span class="o">/</span><span class="n">img</span><span class="o">/</span><span class="n">portfolio</span><span class="o">/</span><span class="n">port01</span><span class="p">.</span><span class="n">jpg</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">2</span> <span class="o">|</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">blacktie</span><span class="p">.</span><span class="n">co</span><span class="o">/</span><span class="n">demo</span><span class="o">/</span><span class="n">stanley</span><span class="o">/</span><span class="n">assets</span><span class="o">/</span><span class="n">img</span><span class="o">/</span><span class="n">portfolio</span><span class="o">/</span><span class="n">port02</span><span class="p">.</span><span class="n">jpg</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">3</span> <span class="o">|</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">blacktie</span><span class="p">.</span><span class="n">co</span><span class="o">/</span><span class="n">demo</span><span class="o">/</span><span class="n">stanley</span><span class="o">/</span><span class="n">assets</span><span class="o">/</span><span class="n">img</span><span class="o">/</span><span class="n">portfolio</span><span class="o">/</span><span class="n">port03</span><span class="p">.</span><span class="n">jpg</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+-----------------------------------------------------------------+
</span><span class="c1"></span><span class="mi">3</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span> <span class="n">sec</span><span class="p">)</span>
</code></pre></div><p>Setelah kita menambahkan tiga data selesai, dan saat membaca kembali rekaman data yang telah kita masukkan maka hasilnya kurang lebih seperti diatas. Jika semua berjalan dengan, silahkan masukkan kembali gambar-gambar lainnya yang belum dimasukkan (boleh ditambah sesuai keinginan)</p>
<p>Apa saja sih yang sebenarnya bisa kita lakukan dengan basis data beserta table yang telah kita buat ini? Ada banyak, bahkan sangat banyak. Dan karena alasan itu pula tidak dapat dijabarkan secara keseluruhan pada artikel ini. Namun, jika anda ingin mencari tahu lebih atau bahkan mendalami dari dasar-dasar basis data ini. <a href="http://www.w3schools.com/sql/default.asp">Link berikut</a> akan sangat membantu anda untuk memahami dan mempelajari hal-hal tersebut.</p>
</li>
</ul>
<h1 id="mengakses-basis-data-mysql-dari-php">Mengakses Basis Data MySQL dari PHP</h1>
<p>Ada beberapa cara atau metode yang dapat digunakan untuk mengakses Basis Data MySQL dari PHP. Menggunakan mysql_* atau mysqli_* atau PDO_MYSQL. Dan kali ini kita akan menggunakan PDO_MYSQL (PHP Data Objects).</p>
<p>Kenapa harus menggunakan PDO_MYSQL? Alasannya cukup mudah, PDO bisa dikatakan lebih aman dan lebih baik untuk digunakan ketimbang kedua metode lain yang saya sebutkan diatas. Aman yang saya maksudkan adalah dikarenakan mysql sendiri sudah tidak disarankan untuk digunakan dari pihak pengembang PHP itu sendiri. Kemudian, PDO sendiri memiliki dukungan yang lebih baik. Misalnya, PDO memiliki dukungan untuk prepare statement, store procedures transaction dan beberapa hal lainnya (tolong dikoreksi jika salah).</p>
<p>Selain itu, buat saya (sebelum menggunakan ORM-Object Relational Mapping) PDO lebih nyaman digunakan karena memiliki fitur untuk mengembalikan nilai Exception (throw exception) disaat query yang dijalankan bermasalah.</p>
<ul>
<li>
<p>Membuat file konfigurasi untuk MySQL dan memberikan hak akses pada file tersebut</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ touch inc/config.php
$ chmod <span class="m">644</span> inc/config.php
</code></pre></div><p>Kita isi dengan informasi host, pengguna, kata sandi dan basis data yang telah kita buat. (Perlu diketahui, hal ini bukanlah satu-satunya cara untuk melakukan ini. Anda akan menemukan banyak sekali cara/metode untuk mendefinisikan hal ini)</p>
<div class="highlight"><pre class="chroma"><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
    <span class="nx">define</span><span class="p">(</span><span class="s1">&#39;DB_HOST&#39;</span><span class="p">,</span> <span class="s1">&#39;localhost&#39;</span><span class="p">);</span>
    <span class="nx">define</span><span class="p">(</span><span class="s1">&#39;DB_USER&#39;</span><span class="p">,</span> <span class="s1">&#39;user_web&#39;</span><span class="p">);</span>
    <span class="nx">define</span><span class="p">(</span><span class="s1">&#39;DB_PASSWORD&#39;</span><span class="p">,</span> <span class="s1">&#39;74ee55083a714aa3791f8d594fea00c9&#39;</span><span class="p">);</span>
    <span class="nx">define</span><span class="p">(</span><span class="s1">&#39;DB_NAME&#39;</span><span class="p">,</span> <span class="s1">&#39;web_sederhana&#39;</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre></div></li>
<li>
<p>Membuat file untuk menghubungkan ke MySQL</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ touch inc/db.php
</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
    <span class="k">include_once</span> <span class="no">__DIR__</span> <span class="o">.</span> <span class="s1">&#39;/config.php&#39;</span><span class="p">;</span>
    <span class="nv">$db</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PDO</span><span class="p">(</span><span class="s1">&#39;mysql:host=&#39;</span><span class="o">.</span><span class="nx">DB_HOST</span><span class="o">.</span><span class="s1">&#39;;dbname=&#39;</span><span class="o">.</span><span class="nx">DB_NAME</span><span class="o">.</span><span class="s1">&#39;;charset=utf8&#39;</span><span class="p">,</span> <span class="nx">DB_USER</span><span class="p">,</span> <span class="nx">DB_PASSWORD</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre></div><p>Pada bagian ini, kita memanggil file config.php agar konstan yang telah kita definisikan bisa kita gunakan pada file ini. Lalu kita membuat sebuah koneksi ke MySQL menggunakan PDO yang berisikan informasi-informasi yang sebelumnya telah kita definisikan. Dan kemudian kita assign ke $db sebagai reference.</p>
</li>
<li>
<p>Mari kita uji coba dan menambahkan koneksi diatas ke dalam gallery.php, serta membaca kembali rekaman data dari daftar_gambar</p>
<div class="highlight"><pre class="chroma"><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
    <span class="k">include_once</span> <span class="no">__DIR__</span><span class="o">.</span><span class="s1">&#39;/inc/Twig/lib/Twig/Autoloader.php&#39;</span><span class="p">;</span>
    <span class="c1">// memanggil file untuk menghubungkan ke MySQL
</span><span class="c1"></span>    <span class="k">include_once</span> <span class="no">__DIR__</span><span class="o">.</span><span class="s1">&#39;/inc/db.php&#39;</span><span class="p">;</span>
    <span class="nx">Twig_Autoloader</span><span class="o">::</span><span class="na">register</span><span class="p">();</span>
    <span class="nv">$loader</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Twig_Loader_Filesystem</span><span class="p">(</span><span class="no">__DIR__</span> <span class="o">.</span> <span class="s1">&#39;/template&#39;</span><span class="p">);</span>
    <span class="nv">$twig</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Twig_Environment</span><span class="p">(</span><span class="nv">$loader</span><span class="p">,</span> <span class="k">array</span><span class="p">());</span>

    <span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;judul&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Web Sederhana&#39;</span><span class="p">,</span>
        <span class="s1">&#39;deskripsi&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Belajar membuat web sederhana&#39;</span><span class="p">,</span>
        <span class="s1">&#39;daftar_gambar&#39;</span> <span class="o">=&gt;</span> <span class="p">[]</span>
    <span class="p">);</span>
    <span class="c1">// membaca kembali rekaman data dari daftar_gambar
</span><span class="c1"></span>    <span class="nv">$daftar_gambar</span> <span class="o">=</span> <span class="nv">$db</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">(</span><span class="s1">&#39;SELECT * FROM `daftar_gambar`&#39;</span><span class="p">);</span>
    <span class="c1">// memastikan bahwa $daftar_gambar memiliki nilai sebelum kita lakukan perulangan
</span><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="nv">$daftar_gambar</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// $daftar_gambar merupakan sebuah tumpukan data, dan dapat kita lakukan perulangan
</span><span class="c1"></span>        <span class="k">foreach</span> <span class="p">(</span><span class="nv">$daftar_gambar</span> <span class="k">as</span> <span class="nv">$gambar</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// menambahkan setiap alamat_gambar dari hasil perulangan
</span><span class="c1"></span>            <span class="c1">// kedalam tumpukan data $data[&#39;daftar_gambar&#39;]
</span><span class="c1"></span>            <span class="nx">array_push</span><span class="p">(</span><span class="nv">$data</span><span class="p">[</span><span class="s1">&#39;daftar_gambar&#39;</span><span class="p">],</span> <span class="nv">$gambar</span><span class="p">[</span><span class="s1">&#39;alamat_gambar&#39;</span><span class="p">]);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">echo</span> <span class="nv">$twig</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span><span class="s1">&#39;gallery.html&#39;</span><span class="p">,</span> <span class="nv">$data</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre></div></li>
</ul>
<p>Nah, mari kita coba kembali menjalankan web sederhana kita ini menggunakan PHP Builtin Web Server dan mengakses halaman gallery.php</p>
<p>Bagaimana? Apakah sesuai? Jika semua berjalan dengan baik, maka gambar-gambar yang dimunculkan akan sesuai dengan jumlah rekaman data yang telah kita masukkan ke basis data yang kita buat. Jika ingin lebih, hal yang perlu dilakukan adalah menambahkan rekaman data pada table daftar_gambar.</p>
<p>Jika terjadi kesalahan, maka silahkan tuliskan di komentar. Kami akan senang hati untuk membantu anda.</p>
<p>Tulisan ini menutup Topik tentang “Membuat Web Sederhana menggunakan PHP, Twig Template Engine dan MySQL”. Kritik, ataupun saran adalah hal yang sangat kami butuhkan agar topik ini bisa kami ubah jika memang ada kekurangan. Dan juga sebagai pembelajaran untuk penulisan topik-topik berikutnya.</p>
<h4 id="membuat-web-sederhana-menggunakan-php-twig-template-engine-dan-mysql-part-1postmembuat-web-sederhana-menggunakan-php-twig-template-engine-dan-mysql"><a href="/post/membuat-web-sederhana-menggunakan-php-twig-template-engine-dan-mysql">Membuat Web Sederhana menggunakan PHP, Twig Template Engine dan MySQL: Part 1</a></h4>
<h4 id="membuat-web-sederhana-menggunakan-php-twig-template-engine-dan-mysql-part-2postmembuat-web-sederhana-menggunakan-php-twig-template-engine-dan-mysql-part-2"><a href="/post/membuat-web-sederhana-menggunakan-php-twig-template-engine-dan-mysql-part-2">Membuat Web Sederhana menggunakan PHP, Twig Template Engine dan MySQL: Part 2</a></h4>
<h4 id="membuat-web-sederhana-menggunakan-php-twig-template-engine-dan-mysql-part-3postmembuat-web-sederhana-menggunakan-php-twig-template-engine-dan-mysql-part-3"><a href="/post/membuat-web-sederhana-menggunakan-php-twig-template-engine-dan-mysql-part-3">Membuat Web Sederhana menggunakan PHP, Twig Template Engine dan MySQL: Part 3</a></h4>
<h4 id="membuat-web-sederhana-menggunakan-php-twig-template-engine-dan-mysql-part-4">Membuat Web Sederhana menggunakan PHP, Twig Template Engine dan MySQL: Part 4</h4>
<h2 id="happy-hacking">Happy Hacking</h2>

    </div>
    
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h">Read other posts</span>
          <hr />
        </div>
        <div class="pagination__buttons">
          
            <span class="button previous">
              <a href="/post/migrate-to-hugo/">
                <span class="button__icon">←</span>
                <span class="button__text">Replacing Flask with Hugo</span>
              </a>
            </span>
          
          
            <span class="button next">
              <a href="/post/membuat-web-sederhana-menggunakan-php-twig-template-engine-dan-mysql-part-3/">
                <span class="button__text">Membuat Web Sederhana menggunakan PHP, Twig Template Engine dan MySQL: Part 3</span>
                <span class="button__icon">→</span>
              </a>
            </span>
          
        </div>
      </div>
    

    

    </div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <a href="/" class="logo" style="text-decoration: none;">
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" width="44" height="44" viewBox="0 0 44 44">
  <polyline fill="none" stroke="#000" stroke-width="2" points="15 8 29.729 22.382 15 35.367"/>
</svg>
</span>
    <span class="logo__text">ngurajeka</span>
    <span class="logo__cursor"></span>
  
</a>

      <div class="copyright">
        <span>© 2020 Powered by <a href="https://gohugo.io">Hugo</a></span>
        <span>Theme created by <a href="https://twitter.com/panr">panr</a></span>
      </div>
    
  </div>
</footer>

<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-77797160-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-77797160-1');
</script>

<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:1330785,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>

  
</div>

</body>
</html>
